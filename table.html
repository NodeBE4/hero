---
layout: default
permalinl: /table
---

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.21/css/dataTables.bootstrap4.min.css">

<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>

<script src="{{ site.baseurl }}/assets/js/hero.js"></script>


<table id="example" class="table table-striped table-bordered" style="width:100%;font-size:12px;">

</table>

<script type="text/javascript" >
// $(document).ready(function() {
//     $('#example').DataTable();
// } );

document.addEventListener("DOMContentLoaded", function(event){
  var url = "{{ site.baseurl }}/index.json";
  var id = "example";
  const thead_format = {
  	'people': '姓名',
  	'keyword': 'Keyword',
  	'google': 'Google',
  	'twitter': 'Twitter',
  	'ytb': 'YouTube',
  	'reddit': 'Reddit',
  	'matters': 'Matters',
  	'vote': '赞'
  }
  $.getJSON(url, function(json) {
    herolist = json;

	var table = document.getElementById(id);
	var thead = document.createElement('thead');
	var tbody = document.createElement('tbody');
	var tfoot = document.createElement('tfoot');
	table.appendChild(thead)
	table.appendChild(tbody)
	table.appendChild(tfoot)
	var tr0 = document.createElement('tr');
	thead.appendChild(tr0);
	var thead_vals = Object.values(thead_format)
	var thead_keys = Object.keys(thead_format)
	thead_vals.map(item => {
		var th = document.createElement('th')
		th.innerText = item
		tr0.appendChild(th)
	});

    var lis = herolist.map(item => {
      let tr = document.createElement('tr');
      tbody.appendChild(tr)
      thead_keys.map(key => {
	      let td1 = document.createElement('td');
	      if (key == 'people'){
		    td1.innerHTML = `<a href="{{ site.baseurl }}/${item[key]}">${item[key]}</a>`;
		  }else{
		  	td1.innerText = item[key] || 0
		  }
	      tr.appendChild(td1);
      });

    });
	var tr2 = document.createElement('tr');
	tfoot.appendChild(tr2);
	thead_vals.map(item => {
		var th = document.createElement('th')
		th.innerText = item
		tr2.appendChild(th)
	});
	$('#example').DataTable();
  })
  console.log(table)
});

</script>